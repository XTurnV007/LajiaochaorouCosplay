# **产品需求文档 (PRD): 迷雾剧场 (Mist Theater) V1.0 - 单人探案版**

| **文档版本** | **V1.0** |
| :----------- | :----------------------------------------- |
| **创建日期** | 2025年9月24日                              |
| **创建人** | Product Manager                            |
| **文档状态** | 草稿 (Draft)                               |
| **产品代号** | MistTheaterSP (Single Player)              |

---

### **1. 背景与目标 (Introduction & Overview)**

#### **1.1. 项目背景**
推理小说、侦探影视剧和悬疑游戏拥有庞大的受众群体，但传统媒介的互动性有限。玩家只能跟随预设的剧情线，无法真正自由地进行盘问和调查。本项目旨在利用大型语言模型（LLM）的深度交互和角色扮演能力，创造一个“活的”案件现场，让玩家扮演侦探，通过与高度智能的 AI 嫌疑人自由对话来破解谜案。

#### **1.2. V1.0 (MVP) 产品目标**
验证**单人玩家通过与多个 AI 嫌疑人进行自由对话和线索调查，能否获得沉浸式、富有逻辑性和满足感的探案体验**。核心是验证 AI 能否成功扮演多个角色、守住各自的秘密，并对玩家的推理做出合乎逻辑的反应。

---

### **2. 目标用户 (Target Audience)**

| 用户画像                 | 核心特征                                                                         | 痛点与需求                                                                                                 |
| :----------------------- | :------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------- |
| **推理/悬疑爱好者** | 喜爱阅读侦探小说、观看罪案剧、玩解谜游戏。渴望亲自扮演侦探，主导调查。             | **痛点：** 传统游戏对话选项有限，无法“自由提问”。**需求：** 一个能真正考验自己观察力和逻辑推理的动态探案沙盒。 |
| **沉浸式故事体验者** | 追求深度剧情和角色代入感，享受在虚拟世界中探索和发现秘密的过程。                 | **痛点：** 线性故事缺乏惊喜。**需求：** 一个充满鲜活角色、反应真实、可以反复探索的互动故事。             |

---

### **3. 用户故事 (User Stories)**

1.  **作为** 一名推理迷，**我希望** 在发现一条关键线索（例如一把带血的刀）后，能立刻去质问每一个嫌疑人“这把刀是不是你的？”，而不是从固定的三个对话选项里选择，**以便** 我能观察他们最真实的即时反应。
2.  **作为** 一名喜欢深度故事的玩家，**我希望** 我审问的每个 AI 角色都有自己独特的性格、秘密和谎言，**以便** 让整个调查过程感觉像是在与真人斗智斗勇，而不是在和一个程序互动。
3.  **作为** 一名玩家，**我希望** 能在一个集中的界面管理我所有的证据，并可以在和嫌疑人对话时随时“出示”某条证据，**以便** 我能有效地组织思路，并利用证据击破对方的心理防线。

---

### **4. 功能范围与需求 (Scope & Features)**

#### **4.1. V1.0 产品范围**

* **IN SCOPE (范围之内):**
    * 提供 1 个完整的、精心设计的单人侦探剧本。以《竹林之下》为例
    * 玩家扮演唯一的侦探角色。
    * 剧本内包含 3-4 名核心 AI 嫌疑人/证人供玩家审问。
    * 纯文本交互的 Web 端应用。
    * 包含“现场调查”、“审问”、“指认真凶”三个核心阶段。
    * 语音交互功能。

* **OUT OF SCOPE (范围之外):**
    * 多人模式。
    * 用户账户系统和案件存档。
    * 剧本商城或多剧本选择。

#### **4.2. 功能详述 (Feature Breakdown)**

##### **F1: 案件陈述 (Case Briefing)**
* **优先级:** P0
* **描述:** 游戏的起始阶段，向玩家介绍案件背景。
* **需求:**
    1.  `FR1.1` 游戏开始时，系统（以“助手”或“警长”的 AI 角色）向玩家呈现案件的基本信息：死者、案发地点、初步报告等。
    2.  `FR1.2` 陈述结束后，引导玩家进入核心调查界面。

##### **F2: 核心调查界面 (Investigation Dashboard)**
* **优先级:** P0
* **描述:** 玩家进行游戏的核心操作界面，整合了调查、审问和证物管理。
* **需求:**
    1.  `FR2.1` **嫌疑人列表 (Suspects):**
        * 以列表或档案卡形式展示所有可互动的 NPC（嫌疑人、证人）。
        * 点击任一 NPC 头像，即可进入与其的“审讯室”。
    2.  `FR2.2` **审讯室 (Interrogation Room):**
        * 与选定 NPC 进行 1 对 1 对话的界面。
        * 玩家可以自由输入任何问题。
        * AI NPC 根据自身设定和玩家提问进行回应。
    3.  `FR2.3` **证物袋 (Evidence Locker):**
        * 一个常驻标签页，用以展示玩家已发现的所有线索和证据。
        * 每条证据包含简短描述。
    4.  `FR2.4` **出示证据:** 在审讯室内，玩家可以将“证物袋”中的任一证据“拖拽”或“点击”出示给当前 NPC，以观察其反应或就此提问。
    5.  `FR2.5` **现场调查 (Crime Scene):**
        * 一个特殊的交互场景（初期可为文本描述），玩家输入“调查书桌”、“检查尸体”等指令，AI DM 会反馈调查结果，并可能发现新的证物。

##### **F3: AI 嫌疑人 (NPC) 核心逻辑**
* **优先级:** P0
* **描述:** 扮演案件中所有非玩家角色的 AI。
* **需求:**
    1.  `FR3.1` **深度角色档案:** 每个 AI NPC 都被赋予了详细的背景故事、性格、与其他角色的关系、时间线、以及需要隐藏的秘密。
    2.  `FR3.2` **证词一致性:** 在被问及相同问题时，NPC 的核心证词应保持一致，除非被新证据戳穿谎言。
    3.  `FR3.3` **动态心理状态:** NPC 的反应会根据玩家的提问方式（攻击性/友好）和出示的证据而变化，可能表现出紧张、愤怒、或合作。
    4.  `FR3.4` **信息边界:** 严格遵守“知道”和“不知道”的信息边界，真凶 AI 必须懂得撒谎和隐藏关键信息。

##### **F4: 结案指认 (The Accusation)**
* **优先级:** P0
* **描述:** 玩家认为自己已掌握真相时，结束调查并指认凶手。
* **需求:**
    1.  `FR4.1` 玩家可以随时点击“结案”按钮。
    2.  `FR4.2` 系统会弹出结案报告，要求玩家指认**“谁是凶手”**，并基于已发现的证据链条，阐述其**“作案手法”**和**“动机”**。
    3.  `FR4.3` 提交后，AI DM 会进行判定，并播放最终的“真相还原”剧情，解释案件的完整经过，并告知玩家的推理是否正确。

---

### **5. 非功能性需求 (Non-Functional Requirements)**

1.  **性能 (Performance):** AI 嫌疑人的回应延迟应在 5 秒以内，以保证审问的连贯性。
2.  **逻辑性 (Logic):** AI 的逻辑链必须严密，不能出现明显的事实矛盾或遗忘关键设定的情况。这是单人体验的核心。
3.  **可用性 (Usability):** 界面清晰，玩家能轻松地在审问、查看证据、调查现场之间切换。

---

### **6. 成功指标 (Success Metrics)**

1.  **剧本通关率 (Case Solved Rate):** 体验游戏的用户中，最终成功指认出真凶的比例。
2.  **游戏时长 (Session Duration):** 用户完成一次剧本的平均游戏时间，反映沉浸程度。
3.  **互动深度 (Interaction Depth):** 平均每位玩家在一次游戏中向 AI 提出的问题总数。
4.  **用户评分 (User Rating):** 游戏结束后，让玩家为剧本的逻辑严密性和 AI 的扮演真实性打分。

---

### **7. 假设与依赖 (Assumptions & Dependencies)**

1.  **核心假设:** 单个或多个协同工作的 LLM，有能力在整个游戏过程中，精确管理一个复杂案件的所有信息状态（谁在何时何地做了什么、谁知道什么），并为多个 AI 角色提供不矛盾且有人格的交互。
2.  **核心依赖:**
    * 极度依赖一个“原子化”的剧本设计，即将所有案件信息（人物关系、时间线、线索位置、秘密）拆解成 AI 易于理解和遵守的结构化数据。
    * 依赖 LLM 强大的上下文理解和角色扮演能力。

---

### **8. 修订历史 (Revision History)**

| 版本 | 日期          | 修订人          | 修订说明                 |
| :--- | :------------ | :-------------- | :----------------------- |
| 1.0  | 2025年9月24日 | Product Manager | 基于单人探案模式创建文档 |